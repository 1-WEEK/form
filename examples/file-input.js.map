{"version":3,"sources":["webpack:///./examples/styles.js?acb5****************","webpack:///./index.js?2645************","webpack:///./src/index.js?9552************","webpack:///./examples/file-input.js"],"names":["regionStyle","border","marginTop","padding","errorStyle","color","getFileValueProps","value","target","getValueFromFileEvent","Form","onSubmit","e","preventDefault","props","form","validateFields","error","values","console","log","data","FormData","append","attachment","files","fetch","method","body","checkSize","rule","callback","size","undefined","getFieldProps","getFieldError","errors","getValueProps","getValueFromEvent","rules","join","React","Component","propTypes","PropTypes","object","createForm","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"file-input.js","sourcesContent":["export const regionStyle = {\n  border: '1px solid red',\n  marginTop: 10,\n  padding: 10,\n};\n\nexport const errorStyle = {\n  color: 'red',\n  marginTop: 10,\n  padding: 10,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./examples/styles.js","// export this package's api\nimport * as form from './src/';\nexport default form;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// export this package's api\nimport createForm from './createForm';\nexport { createForm };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* eslint react/no-multi-comp:0, no-console:0 */\n\nimport { createForm } from 'rc-form';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { regionStyle, errorStyle } from './styles';\n\nfunction getFileValueProps(value) {\n  if (value && value.target) {\n    return {\n      value: value.target.value,\n    };\n  }\n  return {\n    value,\n  };\n}\n\nfunction getValueFromFileEvent({ target }) {\n  return {\n    target,\n  };\n}\n\nclass Form extends React.Component {\n  static propTypes = {\n    form: PropTypes.object,\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((error, values) => {\n      console.log(error, values);\n      if (!error) {\n        const data = new FormData();\n        data.append('file', values.attachment.target.files[0]);\n        fetch('/post.htm', {\n          method: 'post',\n          body: data,\n        });\n      }\n    });\n  }\n  checkSize = (rule, value, callback) => {\n    if (value && value.target) {\n      const files = value.target.files;\n      if (files[0]) {\n        callback(files[0].size > 1000000 ? 'file size must be less than 1M' : undefined);\n      } else {\n        callback();\n      }\n    } else {\n      callback();\n    }\n  }\n  render() {\n    const { getFieldProps, getFieldError } = this.props.form;\n    const errors = getFieldError('attachment');\n    return (<div\n      style={ regionStyle }\n    >\n      <div>attachment:</div>\n      <div>\n        <input type=\"file\" {...getFieldProps('attachment', {\n          getValueProps: getFileValueProps,\n          getValueFromEvent: getValueFromFileEvent,\n          rules: [this.checkSize],\n        })}\n        />\n      </div>\n      <div style={errorStyle}>\n        {(errors) ? errors.join(',') : null}\n      </div>\n      <button onClick={this.onSubmit}>submit</button>\n    </div>);\n  }\n}\n\nForm = createForm()(Form);\n\nclass App extends React.Component {\n  render() {\n    return (<div>\n      <h2>input[type=\"file\"]</h2>\n      <Form />\n    </div>);\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/file-input.js"],"sourceRoot":""}